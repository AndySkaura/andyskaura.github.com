var demo,__extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}();!function(t){var o=function(o){function n(){var n=o.call(this)||this;return n._floors=[],n.addEvent(),t.gameMgr.getInstance().role=n.role,n}return __extends(n,o),n.prototype.addEvent=function(){this.on(Laya.Event.CLICK,this,this.clickHandler),this.addFloor(),this.role.run()},n.prototype.addFloor=function(){for(var o=0;o<10;o++){var n=new t.floorView;n.init(),this._floors.push(n),n.pos(0,200*o),o<=1&&n.checkItem(),this.floorBox.addChild(n)}},n.prototype.clickHandler=function(t){switch(t.currentTarget){case this:this.downAni()}},n.prototype.downAni=function(){this.role.jump(),this.off(Laya.Event.CLICK,this,this.clickHandler),Laya.timer.once(400,this,function(){for(var t=0;t<this._floors.length;t++)if(this._floors[t].y<=0){o=this._floors[t];Laya.Tween.to(o,{y:o.y-200},300,null,Handler.create(this,function(t){t.y=200*(this._floors.length-1),t.init()},[o]))}else if(this._floors[t].y<=200){var o=this._floors[t];Laya.Tween.to(this._floors[t],{y:this._floors[t].y-200},300,null,Handler.create(this,function(t){t.checkItem()},[o]))}else Laya.Tween.to(this._floors[t],{y:this._floors[t].y-200},300);Laya.timer.once(300,this,function(){this.on(Laya.Event.CLICK,this,this.clickHandler)})})},n}(ui.floorSceneUI);t.floorScene=o}(demo||(demo={}));